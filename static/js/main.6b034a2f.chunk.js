(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{200:function(e,t,a){e.exports=a(357)},205:function(e,t,a){},207:function(e,t,a){},357:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(17),o=a.n(i),s=(a(205),a(23)),c=a(24),l=a(31),u=a(30),p=a(32),m=(a(207),a(15)),h=a(59),d=a.n(h),f=a(60),g=a.n(f),v=a(19),E=a.n(v);var b=Object(m.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(d.a,{position:"static"},r.a.createElement(g.a,null,r.a.createElement(E.a,{variant:"h4",color:"inherit",className:t.grow},"Trip Sorter"))))}),y=a(68),w=a(69),j=a(41),O=a.n(j),C=a(39),k=a.n(C),S=a(42),x=a.n(S),N=a(18),R=a.n(N),D=a(67),T=a.n(D),A=a(44),I=a.n(A),M=a(38),B=a.n(M),W=a(40),F=a.n(W),G=a(43),J=a.n(G),P=a(20),q=a.n(P),H=a(61),L=a.n(H),U=a(62),X=a.n(U),$=a(63),z=a.n($),K=a(130),Q=a.n(K),V=a(64),Y=a.n(V),Z=a(65),_=a.n(Z),ee=a(25),te=a.n(ee),ae=a(66),ne=a.n(ae),re=a(129),ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={cost:"",time:"",transport:"",stops:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.from,n=e.to,i=this.props.result,o=0,s=0,c=!0,l=!1,u=void 0;try{for(var p,m=i[Symbol.iterator]();!(c=(p=m.next()).done);c=!0){var h=p.value;o=o+60*parseInt(h.duration.h)+parseInt(h.duration.m),s+=h.cost*(1-h.discount/100)}}catch(g){l=!0,u=g}finally{try{c||null==m.return||m.return()}finally{if(l)throw u}}var d=Math.floor(o/60),f=o%60;return r.a.createElement(re.a,{item:!0,xs:12},r.a.createElement(E.a,{className:t.typg,variant:"h5",component:"h3",align:"center"},"Best route for this selection will cost ",s," Euros and take ",d," Hrs and ",f," mins."),r.a.createElement(L.a,null,r.a.createElement(X.a,{className:t.exppanelcenter,expandIcon:r.a.createElement(Q.a,null)},r.a.createElement(E.a,{className:t.typg,variant:"h6",component:"h3",align:"center"},a," > ",n)),r.a.createElement(z.a,null,r.a.createElement(R.a,{className:t.root},r.a.createElement(Y.a,{className:t.table},r.a.createElement(_.a,null,i.map(function(e,t){return r.a.createElement(ne.a,{key:t},r.a.createElement(te.a,{align:"right"},e.departure),r.a.createElement(te.a,{align:"right"},e.arrival),r.a.createElement(te.a,{align:"right"},e.transport),r.a.createElement(te.a,{align:"right"},e.cost," Euros"),r.a.createElement(te.a,{align:"right"},e.duration.h," hours and ",e.duration.m," mins"))})))))))}}]),t}(n.Component),oe=Object(m.withStyles)(function(e){return{root:Object(w.a)({display:"flex",flexWrap:"wrap"},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"}),typg:{marginTop:2*e.spacing.unit},table:{minWidth:700},exppanelcenter:{div:{justifyContent:"center"}}}})(ie),se=function(){function e(){var t=this;Object(s.a)(this,e),this.ejectSmallest=function(){return t.nodes.shift().key},this.isEmpty=function(){return!t.nodes.length},this.nodes=[]}return Object(c.a)(e,[{key:"add",value:function(e,t){this.nodes.push({key:e,priority:t}),this.sort()}},{key:"sort",value:function(){this.nodes.sort(function(e,t){return e.priority-t.priority})}}]),e}(),ce=function(e,t){var a={};e.forEach(function(e){var n=e.departure,r=e.arrival,i=e.reference,o=e.cost*(1-e.discount/100),s=parseInt(e.duration.h+e.duration.m,10),c=0;switch(t.tabvalue){case 0:c=o;break;case 1:c=s;break;default:throw new Error("Unsupported trip type")}a[n]||(a[n]=[]),(!a[n][r]||c<a[n][r].weight)&&(a[n][r]={weight:c,ref:i})});var n=function(e,t){for(var a=[],n=t,r=e.prev[n];r;)a.push(e.refTripMap["".concat(r,"-").concat(n)]),n=r,r=e.prev[r];return a.reverse()}(function(e,t,a){var n=new se,r={},i={},o={};for(var s in e)e.hasOwnProperty(s)&&(s===t?(r[s]=0,n.add(s,0)):(r[s]=1/0,n.add(s,1/0)),i[s]=null);for(;!n.isEmpty();){var c=n.ejectSmallest();if(c===a)break;if(c&&r[c]!==1/0)for(var l in e[c])if(e[c].hasOwnProperty(l)){var u=r[c]+e[c][l].weight;u<r[l]&&(r[l]=u,i[l]=c,n.add(l,u),o["".concat(c,"-").concat(l)]=e[c][l].ref)}}return{prev:i,refTripMap:o}}(a,t.selectedDeparture,t.selectedArrival),t.selectedArrival),r=[];return n.forEach(function(e){r.push(t.referencemap.get(e))}),r},le=[],ue=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){e.setState(Object(y.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.routeCalculation()},e.handleReset=function(t){t.preventDefault(),e.setState({selectedDeparture:"",selectedArrival:"",tabvalue:0,searchResult:[]})},e.handleTabChange=function(t,a){t.preventDefault(),e.setState({tabvalue:a},function(){e.routeCalculation()})},e.routeCalculation=function(){var t=[];if(e.setState({searchResult:[]}),0===(t=e.state.groupmap.get(e.state.selectedDeparture).filter(function(t){return t.arrival===e.state.selectedArrival})).length){var a=e.state;t=ce(le,a),e.setState({searchResult:t})}else 0===e.state.tabvalue?(t.sort(function(e,t){return e.cost-e.discount-(t.cost-t.discount)}),t.length=1,e.setState({searchResult:t})):(t.sort(function(e,t){return 60*parseInt(e.duration.h)+parseInt(e.duration.m)-(60*parseInt(t.duration.h)+parseInt(e.duration.m))}),t.length=1,e.setState({searchResult:t}))},e.state={selectedDeparture:"",selectedArrival:"",tabvalue:0,groupmap:new Map,referencemap:new Map,searchResult:[]},e}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("./assets/response.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(e){return e.json()}).then(function(t){le=t.deals;var a=new Map,n=new Map;le.forEach(function(e){var t=e.departure;n.set(e.reference,e);var r=a.get(t);r?r.push(e):a.set(t,[e])}),e.setState({groupmap:a,referencemap:n})})}},{key:"render",value:function(){var e=this.props.classes,t=Array.from(this.state.groupmap.keys());return r.a.createElement(q.a,{container:!0,spacing:8},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement("form",{className:e.root,onSubmit:this.handleSubmit},r.a.createElement(q.a,{item:!0,xs:5},r.a.createElement(E.a,{className:e.typg,variant:"display1",component:"h3"},"Select your origin destination pair:")),r.a.createElement(q.a,{item:!0,xs:2},r.a.createElement(B.a,{className:e.formControl},r.a.createElement(k.a,{htmlFor:"origin"},"Origin"),r.a.createElement(F.a,{value:this.state.selectedDeparture,onChange:this.handleChange,input:r.a.createElement(O.a,{name:"selectedDeparture",id:"origin"})},t.map(function(e,t){return r.a.createElement(x.a,{key:t,value:e},e)})))),r.a.createElement(q.a,{item:!0,xs:2},r.a.createElement(B.a,{className:e.formControl},r.a.createElement(k.a,{htmlFor:"destination"},"Destination"),r.a.createElement(F.a,{value:this.state.selectedArrival,onChange:this.handleChange,input:r.a.createElement(O.a,{name:"selectedArrival",id:"destination"})},t.map(function(e,t){return r.a.createElement(x.a,{key:t,value:e},e)})))),r.a.createElement(J.a,{variant:"contained",color:"primary",className:e.button,onClick:this.handleSubmit},"Search Route"),r.a.createElement(J.a,{variant:"contained",color:"primary",className:e.button,onClick:this.handleReset},"Reset "))),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(R.a,{square:!0},r.a.createElement(T.a,{value:this.state.tabvalue,indicatorColor:"primary",textColor:"primary",onChange:this.handleTabChange,centered:!0},r.a.createElement(I.a,{label:"Cheapest"}),r.a.createElement(I.a,{label:"Fastest"})))),this.state.searchResult.length>0?r.a.createElement(oe,{result:this.state.searchResult,from:this.state.selectedDeparture,to:this.state.selectedArrival}):null)}}]),t}(r.a.Component),pe=Object(m.withStyles)(function(e){return{root:Object(w.a)({display:"flex",flexWrap:"wrap"},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),formControl:{margin:e.spacing.unit,minWidth:200},button:{margin:e.spacing.unit},selectEmpty:{marginTop:2*e.spacing.unit},typg:{marginTop:2*e.spacing.unit}}})(ue),me=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement(pe,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[200,2,1]]]);
//# sourceMappingURL=main.6b034a2f.chunk.js.map